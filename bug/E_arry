#include<iostream>
#include<string.h>
#include<stdlib.h>
using namespace std;
struct ass{
    int x;
    int y;
};
int main(){
    int n,m,x1,y1,x2,y2,o,head=0,tail,all;
    cin >> n >> m;
    int s[100][100]={};
    cin >>x1>>y1>>x2>>y2>>o;
    struct ass arry[10000],change;
    int a=(abs(x1-x2))+(abs(y1-y2))+1;
//    arry.resize((abs(x1-x2))+(abs(y1-y2))+10);
    for(int i=0;i<a;i++){
        arry[i].x=x1;
        arry[i].y=y1;
//        cout << "x"<<arry[i].x<<"y" <<arry[i].y;
        if(x1>x2)
            x1--;
        else if(x1<x2)
            x1++;
        if(y1>y2)
            y1--;
        else if(y1<y2)
            y1++;
        all++;
    }
    all--;
    tail=all;
//    for(int i=0;i<n;i++){
//        for(int q=0;q<m;q++){
//            cout << s[i][q];
//        }
//        cout << endl;
//    }
    for(int i=0;i<a;i++){
        s[arry[i].x][arry[i].y]=1;
//        cout << " "<<"s["<<arry[i].x<<"]["<<arry[i].y<<"]";
    }
    for(int ss=0;ss<o;ss++){
        int com;
        cin >> com;
        s[arry[tail].x][arry[tail].y]=0;
        if(com==1){
            if(arry[head].x-1<0||s[arry[head].x-1][arry[head].y]!=0)break;
            change.x=arry[head].x;
            change.y=arry[head].y;
        	if(head-1<0)
        		head=all;
        	else
        		head--;
        	arry[head].x=change.x-1;
        	arry[head].y=change.y;
        	s[arry[head].x][arry[head].y]=1;       	
        }else if(com==0){
            if(arry[head].x+1>=n||s[arry[head].x+1][arry[head].y]!=0)break;
            change.x=arry[head].x;
            change.y=arry[head].y;
        	if(head-1<0)
        		head=all;
        	else
        		head--;
        	arry[head].x=change.x+1;
        	arry[head].y=change.y;
        	s[arry[head].x][arry[head].y]=1;
        }else if(com==2){
            if(arry[head].y+1>=m||s[arry[head].x][arry[head].y+1]!=0)break;
            change.x=arry[head].x;
            change.y=arry[head].y;
        	if(head-1<0)
        		head=all;
        	else
        		head--;
        	arry[head].x=change.x;
        	arry[head].y=change.y+1;
        	s[arry[head].x][arry[head].y]=1;
        }else if(com==3){
            if(arry[head].y-1<0||s[arry[head].x][arry[head].y-1]!=0)break;
            change.x=arry[head].x;
            change.y=arry[head].y;
        	if(head-1<0)
        		head=all;
        	else
        		head--;
        	arry[head].x=change.x;
        	arry[head].y=change.y-1;
        	s[arry[head].x][arry[head].y]=1;
        }
        s[arry[0].x][arry[0].y]=1;
        if(tail-1<0)
        	tail=all;
        else
        	tail--;
    }
    for(int i=0;i<n;i++){
        for(int q=0;q<m;q++){
            cout << s[i][q];
        }
        cout <<endl;
//    }
//    cout <<endl<<head<<" "<<tail<<endl;
    }
}
