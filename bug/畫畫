//題目:https://docs.google.com/viewerng/viewer?url=https://neoj.sprout.tw/api/problem/703/static/cont.pdf
#include<cstdio>
#include<bits/stdc++.h>
using namespace std;
#define F first
#define S second
char s[1505][1505]={};
bool check(int *ty,int *num,char *word,set<char> row[],set<char> col[],int n,int m){
    for(int i=0;i<n;i++){
        if(row[i].size()==1){
            *num=i;
            *word=*row[i].begin();
            *ty=1;
            return true;
        }
    }
    for(int i=0;i<m;i++){
        if(col[i].size()==1){
            *num=i;
            *word=*col[i].begin();
            *ty=2;
            return true;
        }
    }
    return false;
}
int main(){
    int n,m;
    stack<pair<string,pair<int,char> > > st;
    set<char> row[1505],col[1505];
    cin >> n>> m;
    for(int i=0;i<n;i++){
        cin >> s[i];
    }
    for(int i=0;i<n;i++){
        for(int q=0;q<m;q++){
            row[i].insert(s[i][q]);
            col[q].insert(s[i][q]);
        }
    }
    int num,ty=1;
    char word;
    while(check(&ty,&num,&word,row,col,n,m)){
        if(ty==1){
            row[num].erase(word);
            st.push(pair<string,pair<int,char> > ("row",pair<int,char>(num,word)));
            for(int i=0;i<m;i++)
                if(col[i].size()!=1)col[i].erase(word);
        }else{
            col[num].erase(word);
            st.push(pair<string,pair<int,char> >("column",pair<int,char>(num,word)));
            for(int i=0;i<n;i++)
                if(col[i].size()!=1)row[i].erase(word);
        }
//        for(int i=0;i<n;i++)
//            cout << row[i].size()<<" ";
//        cout << endl;
//        for(int i=0;i<m;i++)
//            cout << col[i].size()<<" ";
//        cout << endl;
    }
    for(int i=st.size();i<m+n;i++){
        printf("row 2 r\n");
    }
    while(!st.empty()){
        if(st.top().F=="row")
            printf("row %d %c\n",st.top().S.F+1,st.top().S.S);
        else if(st.top().F=="column")
            printf("column %d %c\n",st.top().S.F+1,st.top().S.S);
        st.pop();
    }
}
